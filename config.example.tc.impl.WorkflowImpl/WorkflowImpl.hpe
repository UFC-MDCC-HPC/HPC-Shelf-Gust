<?xml version="1.0" encoding="ASCII"?>
<component:component xmlns:component="http://www.example.org/HashComponent">
  <header hash_component_UID="00240000048000009400000006020000002400005253413100040000110000002dce373d692d552b06c2619b888456b48a3b7f677bae798ac6876a7e883dbcf2ba54bb80308aef79fc0e4be37ac1e86bb1337d118a8daaf7549926c8fdeecc489e5d5228e0698d4eb4c780e198a8ebfbd1630145cef7cf8409aed70d0814be2a55361d0ed8dabf8c3e04100e3bfe3633d5c258107ccda56c373be7d80bd3d388" isAbstract="false" kind="Computation" name="WorkflowImpl" packagePath="config.example.tc.impl">
    <baseType>
      <extensionType>
        <implements>true</implements>
      </extensionType>
      <component hash_component_UID="002400000480000094000000060200000024000052534131000400001100000047003692afa7ed3b984286e080e9dd8c89f4270ba88b985b13900fab43674166c5a82e084b79bcb6e42b66296c8bd48ce530aca8ef29be9cb870dab193cbecd1d76a807fd28f483b1b95d4d9f19616755f19b1d6271a54893f0aac8040489eb19ff2211acf21eb9a4e42af37cb064a4a66a0e876a38f0e9717e9708c65f638a6" localRef="base" location="config.example.tc.Workflow/Workflow.hpe" name="Workflow" package="config.example.tc" version="1.0.0.0">
        <visualDescription h="50" w="100" x="395" y="324">
          <color b="255" g="255" r="255"/>
        </visualDescription>
        <parameter formFieldId="maintainer" varName="M"/>
        <port localRef="platform_SAFe" location="br.ufc.mdcc.hpcshelf.platform.Platform/Platform.hpe" multiple="false" name="Platform" package="br.ufc.mdcc.hpcshelf.platform" exposed="true">
          <visualDescription h="44" w="142" x="313" y="425">
            <color b="20" g="20" r="20"/>
          </visualDescription>
          <parameter formFieldId="maintainer" varName="M"/>
          <unitBounds parallel="true" uRef="node">
            <visualDescription h="30" w="20" x="147" y="9"/>
          </unitBounds>
        </port>
        <port localRef="task_reduce" location="br.ufc.mdcc.hpc.storm.binding.task.TaskBindingBase/TaskBindingBase.hpe" multiple="false" name="TaskBindingBase" package="br.ufc.mdcc.hpc.storm.binding.task" exposed="true">
          <visualDescription h="42" w="167" x="112" y="413">
            <color b="243" g="217" r="217"/>
          </visualDescription>
          <parameter formFieldId="task_port_type" varName="X###2136127637"/>
          <unitBounds parallel="true" uRef="peer">
            <visualDescription h="30" w="20" x="203" y="8"/>
          </unitBounds>
        </port>
        <port localRef="task_binding_split_first" location="br.ufc.mdcc.hpc.storm.binding.task.TaskBindingBase/TaskBindingBase.hpe" multiple="false" name="TaskBindingBase" package="br.ufc.mdcc.hpc.storm.binding.task" exposed="true">
          <visualDescription h="42" w="211" x="40" y="314">
            <color b="243" g="217" r="217"/>
          </visualDescription>
          <parameter formFieldId="task_port_type" varName="X###265584513"/>
          <unitBounds parallel="true" uRef="peer">
            <visualDescription h="30" w="20" x="217" y="7"/>
          </unitBounds>
        </port>
        <port localRef="task_binding_split_next" location="br.ufc.mdcc.hpc.storm.binding.task.TaskBindingBase/TaskBindingBase.hpe" multiple="false" name="TaskBindingBase" package="br.ufc.mdcc.hpc.storm.binding.task" exposed="true">
          <visualDescription h="43" w="214" x="42" y="254">
            <color b="243" g="217" r="217"/>
          </visualDescription>
          <parameter formFieldId="task_port_type" varName="X###1207891525"/>
          <unitBounds parallel="true" uRef="peer">
            <visualDescription h="30" w="20" x="10" y="10"/>
          </unitBounds>
        </port>
        <port localRef="task_binding_data" location="br.ufc.mdcc.hpc.storm.binding.task.TaskBindingBase/TaskBindingBase.hpe" multiple="false" name="TaskBindingBase" package="br.ufc.mdcc.hpc.storm.binding.task" exposed="true">
          <visualDescription h="34" w="215" x="33" y="372">
            <color b="243" g="217" r="217"/>
          </visualDescription>
          <parameter formFieldId="task_port_type" varName="X###869945584"/>
          <unitBounds parallel="true" uRef="peer">
            <visualDescription h="30" w="20" x="241" y="4"/>
          </unitBounds>
        </port>
        <unitBounds parallel="false" uRef="workflow_unit">
          <visualDescription h="20" w="20" x="5" y="2"/>
        </unitBounds>
      </component>
    </baseType>
    <versions field1="1" field2="0" field3="0" field4="0"/>
    <visualAttributes>
      <color b="255" g="255" r="255"/>
    </visualAttributes>
  </header>
  <componentInfo>
    <innerComponent localRef="maintainer" location="br.ufc.mdcc.hpcshelf.platform.maintainer.SAFeHost/SAFeHost.hpe" multiple="false" name="SAFeHost" package="br.ufc.mdcc.hpcshelf.platform.maintainer" exposed="false">
      <visualDescription h="100" w="100" x="0" y="0">
        <color b="255" g="255" r="255"/>
      </visualDescription>
      <unitBounds parallel="true" uRef="safe_host">
        <visualDescription h="20" w="20" x="5" y="2"/>
      </unitBounds>
    </innerComponent>
    <supplyParameter cRef="maintainer" direct="true" varName="M"/>
    <interface iRef="IWorkflowImpl" nArgs="1">
      <slice isRef="task_reduce">
        <originRef cRef="task_reduce" iRef="ITaskPort"/>
        <visualDescription h="15" w="15" x="10" y="10"/>
      </slice>
      <slice isRef="task_binding_split_first">
        <originRef cRef="task_binding_split_first" iRef="ITaskPort"/>
        <visualDescription h="15" w="15" x="10" y="10"/>
      </slice>
      <slice isRef="task_binding_data">
        <originRef cRef="task_binding_data" iRef="ITaskPort"/>
        <visualDescription h="15" w="15" x="10" y="10"/>
      </slice>
      <slice isRef="task_binding_split_next">
        <originRef cRef="task_binding_split_next" iRef="ITaskPort"/>
        <visualDescription h="15" w="15" x="10" y="10"/>
      </slice>
      <slice isRef="platform_SAFe">
        <originRef cRef="platform_SAFe" iRef="IProcessingNode"/>
        <visualDescription h="20" w="20" x="10" y="10"/>
      </slice>
      <sources sourceType="C# Language" versionId="1.0.0.0">
        <file contents="// ------------------------------------------------------------------------------&#xA;//  &lt;autogenerated>&#xA;//      This code was generated by a tool.&#xA;//      Mono Runtime Version: 4.0.30319.17020&#xA;// &#xA;//      Changes to this file may cause incorrect behavior and will be lost if &#xA;//      the code is regenerated.&#xA;//  &lt;/autogenerated>&#xA;// ------------------------------------------------------------------------------&#xA;using br.ufc.mdcc.hpcshelf.platform.Maintainer;&#xA;using System;&#xA;using br.ufc.mdcc.hpc.storm.binding.task.TaskBindingBase;&#xA;using System.Threading;&#xA;using br.ufc.mdcc.hpcshelf.mapreduce.port.task.TaskPortTypeAdvance;&#xA;using br.ufc.mdcc.hpcshelf.mapreduce.port.task.TaskPortTypeData;&#xA;using System.Collections.Generic;&#xA;using br.ufc.mdcc.hpcshelf.platform.maintainer.SAFeHost;&#xA;using config.example.tc.Workflow;&#xA;&#xA;&#xA;namespace config.example.tc.impl.WorkflowImpl {&#xA;    &#xA;    &#xA;&#x9;public class IWorkflowImpl&lt;M> :br.ufc.pargo.hpe.kinds.Computation ,IWorkflow&lt;M> &#xA;&#x9;&#x9;where M:ISAFeHost&#xA;&#x9;{&#xA;        &#xA;&#x9;&#x9;private void read_data_source()&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;Console.WriteLine (&quot;read_data_source&quot;);&#xA;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#xA;&#x9;&#x9;private void split_perform()&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;Console.WriteLine (&quot;split_perform&quot;);&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;private void map_perform()&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;Console.WriteLine (&quot;map_perform&quot;);&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;private void shuffle_perform()&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;Console.WriteLine (&quot;shuffle_perform&quot;);&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;private void reduce_perform()&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;Console.WriteLine (&quot;reduce_perform&quot;);&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;private void write_sink_source()&#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;Console.WriteLine (&quot;write_sink_source&quot;);&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;public override void main() &#xA;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;Console.WriteLine (this.ThisFacetInstance + &quot;/&quot; + this.Rank + &quot;: WORKFLOW 1&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;Task_binding_data.TraceFlag = Task_map.TraceFlag = Task_reduce.TraceFlag = Task_binding_shuffle.TraceFlag = Task_binding_split_first.TraceFlag = Task_binding_split_next.TraceFlag = true;&#xA;&#x9;&#x9;&#x9;Task_binding_data.TraceFlag = Task_binding_shuffle.TraceFlag = Task_binding_split_first.TraceFlag = Task_binding_split_next.TraceFlag = true;&#xA;&#xA;&#x9;&#x9;&#x9;IActionFutureSet future_iteration = null;&#xA;&#xA;&#x9;&#x9;&#x9;Console.WriteLine (this.ThisFacetInstance + &quot;/&quot; + this.Rank + &quot;: WORKFLOW 2-1&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;IActionFuture future_split_first_chunk_ready = null;&#xA;&#x9;&#x9;    Task_binding_split_first.invoke (ITaskPortAdvance.CHUNK_READY, out future_split_first_chunk_ready);&#xA;&#x9;&#x9;&#x9;int action_id_split_first_chunk_ready = future_split_first_chunk_ready.GetHashCode ();&#xA;&#x9;&#x9;&#x9;future_iteration = future_split_first_chunk_ready.createSet ();&#xA;&#xA;&#x9;&#x9;&#x9;Console.WriteLine (this.ThisFacetInstance + &quot;/&quot; + this.Rank + &quot;: WORKFLOW 2-2&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;IActionFuture future_split_next_chunk_ready = null;&#xA;&#x9;&#x9;&#x9;Task_binding_split_next.invoke (ITaskPortAdvance.CHUNK_READY, out future_split_next_chunk_ready);&#xA;&#x9;&#x9;&#x9;int action_id_split_next_chunk_ready = future_split_next_chunk_ready.GetHashCode ();&#xA;&#x9;&#x9;&#x9;future_iteration.addAction(future_split_next_chunk_ready)&#x9;;&#xA;&#xA;&#x9;&#x9;&#x9;Console.WriteLine (this.ThisFacetInstance + &quot;/&quot; + this.Rank + &quot;: WORKFLOW 3&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;IActionFuture future_map_chunk_ready = null;&#xA;&#x9;&#x9;&#x9;Task_map.invoke (ITaskPortAdvance.CHUNK_READY, out future_map_chunk_ready);&#xA;&#x9;&#x9;&#x9;int action_id_map_chunk_ready = future_map_chunk_ready.GetHashCode ();&#xA;&#x9;&#x9;&#x9;future_iteration.addAction (future_map_chunk_ready);&#xA;&#xA;&#x9;&#x9;&#x9;Console.WriteLine (this.ThisFacetInstance + &quot;/&quot; + this.Rank + &quot;: WORKFLOW 4&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;IActionFuture future_shuffle_chunk_ready = null; &#xA;&#x9;&#x9;&#x9;Task_binding_shuffle.invoke (ITaskPortAdvance.CHUNK_READY, out future_shuffle_chunk_ready);&#xA;&#x9;&#x9;&#x9;int action_id_shuffle_chunk_ready = future_shuffle_chunk_ready.GetHashCode ();&#xA;&#x9;&#x9;&#x9;future_iteration.addAction (future_shuffle_chunk_ready);&#xA;&#xA;&#x9;&#x9;&#x9;Console.WriteLine (this.ThisFacetInstance + &quot;/&quot; + this.Rank + &quot;: WORKFLOW 4&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;IActionFuture future_reduce_chunk_ready = null;&#xA;&#x9;&#x9;&#x9;Task_reduce.invoke (ITaskPortAdvance.CHUNK_READY, out future_reduce_chunk_ready);&#xA;&#x9;&#x9;&#x9;int action_id_reduce_chunk_ready = future_reduce_chunk_ready.GetHashCode ();&#xA;&#x9;&#x9;&#x9;future_iteration.addAction (future_reduce_chunk_ready);&#xA;&#xA;&#x9;&#x9;&#x9;Console.WriteLine (this.ThisFacetInstance + &quot;/&quot; + this.Rank + &quot;: WORKFLOW 5&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;IActionFuture future_data_terminate = null; &#xA;&#x9;&#x9;&#x9;Task_binding_data.invoke (ITaskPortData.TERMINATE, out future_data_terminate);&#xA;&#x9;&#x9;&#x9;future_iteration.addAction (future_data_terminate);&#xA;&#x9;&#x9;&#x9;int action_id_data_terminate = future_data_terminate.GetHashCode ();&#xA;&#xA;&#x9;&#x9;&#x9;Console.WriteLine (this.ThisFacetInstance + &quot;/&quot; + this.Rank + &quot;: WORKFLOW 6-1&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;Task_binding_data.invoke (ITaskPortData.READ_SOURCE);&#xA;&#xA;&#x9;&#x9;&#x9;Console.WriteLine (this.ThisFacetInstance + &quot;/&quot; + this.Rank + &quot;: WORKFLOW 6-2&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;Task_binding_split_first.invoke (ITaskPortAdvance.READ_CHUNK);&#xA;&#x9;&#x9;&#x9;Task_binding_split_first.invoke (ITaskPortAdvance.PERFORM);&#xA;&#xA;&#x9;&#x9;&#x9;Console.WriteLine (this.ThisFacetInstance + &quot;/&quot; + this.Rank + &quot;: WORKFLOW 7&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;IList&lt;Thread> bag_of_tasks = new List&lt;Thread> ();&#xA;&#xA;&#xA;&#x9;&#x9;&#x9;bool terminate = false;&#xA;&#x9;&#x9;&#x9;do &#xA;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (this.ThisFacetInstance + &quot;/&quot; + this.Rank + &quot;: WORKFLOW 8 - LOOP&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;IActionFuture action = future_iteration.waitAny ();&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;int action_id = action.GetHashCode();&#xA;&#x9;&#x9;&#x9;&#x9;if (action_id == action_id_split_first_chunk_ready)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Thread t1 = new Thread((ThreadStart)delegate() &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE MAPPER READ_CHUNK - BEFORE&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Task_map.invoke (ITaskPortAdvance.READ_CHUNK); &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE MAPPER READ_CHUNK - AFTER&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IActionFuture future_map_perform = null;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Thread thread_map_perform = Task_map.invoke (ITaskPortAdvance.PERFORM, map_perform, out future_map_perform);&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;END INVOKE SPLITTER CHUNK_READY&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;});&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;bag_of_tasks.Add(t1);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;t1.Start();&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Thread t2 = new Thread((ThreadStart)delegate() &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;{ &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE SPLITTER READ_CHUNK&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Task_binding_split_first.invoke (ITaskPortAdvance.READ_CHUNK);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE SPLITTER PERFORM&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Task_binding_split_first.invoke (ITaskPortAdvance.PERFORM);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE SPLITTER READ_CHUNK/PERFORM - AFTER&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IActionFuture future_split_chunk_ready_ = null;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Task_binding_split_first.invoke (ITaskPortAdvance.CHUNK_READY, out future_split_chunk_ready_);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;action_id_split_first_chunk_ready = future_split_chunk_ready_.GetHashCode ();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;future_iteration.addAction(future_split_chunk_ready_);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;});&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;THREAD LAUNCHED 1&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;bag_of_tasks.Add(t2);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;t2.Start();&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;else if (action_id == action_id_map_chunk_ready)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Task_map.invoke (ITaskPortAdvance.CHUNK_READY, out future_map_chunk_ready);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;action_id_map_chunk_ready = future_map_chunk_ready.GetHashCode ();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;future_iteration.addAction(future_map_chunk_ready);&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Thread t = new Thread((ThreadStart)delegate() &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE SHUFFLER READ_CHUNK - BEFORE&quot;);  // 110 executados (o 48 completou nos pares, mas n&#xe3;o progrediu aqui (????), motivo do erro.&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Task_binding_shuffle.invoke (ITaskPortAdvance.READ_CHUNK);   // &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE SHUFFLER READ_CHUNK - AFTER&quot;);   // 47 completados &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IActionFuture future_shuffle_perform = null;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Thread thread_shuffle_perform = Task_binding_shuffle.invoke (ITaskPortAdvance.PERFORM, shuffle_perform, out future_shuffle_perform);&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;END INVOKE MAPPER CHUNK_READY&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;});&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;t.Start();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;bag_of_tasks.Add(t);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;THREAD LAUNCHED 2&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;else if (action_id == action_id_shuffle_chunk_ready)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Task_binding_shuffle.invoke (ITaskPortAdvance.CHUNK_READY, out future_shuffle_chunk_ready);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;action_id_shuffle_chunk_ready = future_shuffle_chunk_ready.GetHashCode ();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;future_iteration.addAction(future_shuffle_chunk_ready);&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Thread t = new Thread((ThreadStart)delegate() &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE REDUCER READ_CHUNK - BEFORE&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Task_reduce.invoke (ITaskPortAdvance.READ_CHUNK); // ****&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE REDUCER READ_CHUNK - AFTER&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IActionFuture future_reduce_perform = null;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Thread thread_reduce_perform = Task_reduce.invoke (ITaskPortAdvance.PERFORM, reduce_perform, out future_reduce_perform);&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;END INVOKE SHUFFLER CHUNK_READY&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;});&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;t.Start();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;bag_of_tasks.Add(t);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;THREAD LAUNCHED 3&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;else if (action_id == action_id_reduce_chunk_ready)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Task_reduce.invoke (ITaskPortAdvance.CHUNK_READY, out future_reduce_chunk_ready);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;action_id_reduce_chunk_ready = future_reduce_chunk_ready.GetHashCode ();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;future_iteration.addAction(future_reduce_chunk_ready);&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Thread t = new Thread((ThreadStart)delegate() &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE SPLITTER NEXT READ_CHUNK - BEFORE&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Task_binding_split_next.invoke (ITaskPortAdvance.READ_CHUNK);  // ****&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE SPLITTER NEXT READ_CHUNK - AFTER&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IActionFuture future_split_perform = null;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Thread thread_split_perform = Task_binding_split_next.invoke (ITaskPortAdvance.PERFORM, split_perform, out future_split_perform);&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;END INVOKE REDUCER CHUNK_READY&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;});&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;t.Start();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;bag_of_tasks.Add(t);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;THREAD LAUNCHED 4&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;else if  (action_id == action_id_split_next_chunk_ready)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Thread t1 = new Thread((ThreadStart)delegate() &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE MAP READ_CHUNK NEXT - BEFORE&quot;);  &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Task_map.invoke (ITaskPortAdvance.READ_CHUNK);   // &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE MAP READ_CHUNK NEXT - AFTER&quot;);    &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IActionFuture future_map_perform = null;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Thread thread_map_perform = Task_map.invoke (ITaskPortAdvance.PERFORM, map_perform, out future_map_perform);&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;END INVOKE SPLIT NEXT CHUNK_READY&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;});&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;bag_of_tasks.Add(t1);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;t1.Start();&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Thread t2 = new Thread((ThreadStart)delegate() &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;{ &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE SPLITTER NEXT READ_CHUNK&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Task_binding_split_next.invoke (ITaskPortAdvance.READ_CHUNK);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE SPLITTER NEXT PERFORM&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Task_binding_split_next.invoke (ITaskPortAdvance.PERFORM);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE SPLITTER NEXT READ_CHUNK/PERFORM - AFTER&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;IActionFuture future_split_next_chunk_ready_ = null;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Task_binding_split_next.invoke (ITaskPortAdvance.CHUNK_READY, out future_split_next_chunk_ready_);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;action_id_split_next_chunk_ready = future_split_next_chunk_ready_.GetHashCode ();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;future_iteration.addAction(future_split_next_chunk_ready_);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;});&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;THREAD LAUNCHED 1&quot;);&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;bag_of_tasks.Add(t2);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;t2.Start();&#xA;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;THREAD LAUNCHED 5&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;}&#x9;&#xA;&#x9;&#x9;&#x9;&#x9;else if (action_id == action_id_data_terminate)&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Thread t = new Thread((ThreadStart)delegate() &#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE DATA WRITE_SINK - BEFORE&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Task_binding_data.invoke (ITaskPortData.WRITE_SINK);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;INVOKE DATA WRITE_SINK - AFTER&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;terminate = true;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;});&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;t.Start();&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;bag_of_tasks.Add(t);&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine (&quot;THREAD LAUNCHED 6&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;&#x9;&#x9;else&#xA;&#x9;&#x9;&#x9;&#x9;{&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;Console.WriteLine(&quot;UNEXPECTED ERROR: ACTION FUTURE NOT RECOGNIZED ! &quot;);&#xA;&#x9;&#x9;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;&#x9;} while (!terminate) ;&#xA;&#xA;&#x9;&#x9;&#x9;Console.WriteLine(&quot;WORKFLOW FINISHED ! &quot;);&#xA;&#xA;&#x9;&#x9;&#x9;foreach (Thread t in bag_of_tasks)&#xA;&#x9;&#x9;&#x9;&#x9;t.Join ();&#xA;&#xA;        }&#xA;&#xA;&#x9;&#x9;private ITaskPort&lt;ITaskPortTypeData> task_binding_data = null;&#xA;&#x9;&#x9;protected ITaskPort&lt;ITaskPortTypeData> Task_binding_data &#xA;&#x9;&#x9;{ &#xA;&#x9;&#x9;&#x9;get &#xA;&#x9;&#x9;&#x9;{   &#xA;&#x9;&#x9;&#x9;&#x9;if (task_binding_data == null)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;task_binding_data = (ITaskPort&lt;ITaskPortTypeData>)this.Services.getPort (&quot;task_binding_data&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;return task_binding_data;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;private ITaskPort&lt;ITaskPortTypeAdvance> task_binding_split_first = null;&#xA;&#x9;&#x9;protected ITaskPort&lt;ITaskPortTypeAdvance> Task_binding_split_first&#xA;&#x9;&#x9;{ &#xA;&#x9;&#x9;&#x9;get &#xA;&#x9;&#x9;&#x9;{   if (task_binding_split_first == null)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;task_binding_split_first = (ITaskPort&lt;ITaskPortTypeAdvance>) this.Services.getPort (&quot;task_binding_split_first&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;return task_binding_split_first;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;private ITaskPort&lt;ITaskPortTypeAdvance> task_binding_split_next = null;&#xA;&#x9;&#x9;protected ITaskPort&lt;ITaskPortTypeAdvance> Task_binding_split_next&#xA;&#x9;&#x9;{ &#xA;&#x9;&#x9;&#x9;get &#xA;&#x9;&#x9;&#x9;{   if (task_binding_split_next == null)&#xA;&#x9;&#x9;&#x9;&#x9;task_binding_split_next = (ITaskPort&lt;ITaskPortTypeAdvance>) this.Services.getPort (&quot;task_binding_split_next&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;return task_binding_split_next;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;private ITaskPort&lt;ITaskPortTypeAdvance> task_binding_shuffle = null;&#xA;&#x9;&#x9;protected ITaskPort&lt;ITaskPortTypeAdvance> Task_binding_shuffle &#xA;&#x9;&#x9;{ &#xA;&#x9;&#x9;&#x9;get &#xA;&#x9;&#x9;&#x9;{   &#xA;&#x9;&#x9;&#x9;&#x9;if (task_binding_shuffle == null)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;task_binding_shuffle = (ITaskPort&lt;ITaskPortTypeAdvance>) this.Services.getPort (&quot;task_binding_shuffle&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;return task_binding_shuffle;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;private ITaskPort&lt;ITaskPortTypeAdvance> task_reduce = null;&#xA;&#x9;&#x9;protected ITaskPort&lt;ITaskPortTypeAdvance> Task_reduce &#xA;&#x9;&#x9;{ &#xA;&#x9;&#x9;&#x9;get &#xA;&#x9;&#x9;&#x9;{   &#xA;&#x9;&#x9;&#x9;&#x9;if (task_reduce == null)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;task_reduce = (ITaskPort&lt;ITaskPortTypeAdvance>) this.Services.getPort (&quot;task_reduce&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;return task_reduce;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;private ITaskPort&lt;ITaskPortTypeAdvance> task_map = null;&#xA;&#x9;&#x9;protected ITaskPort&lt;ITaskPortTypeAdvance> Task_map &#xA;&#x9;&#x9;{ &#xA;&#x9;&#x9;&#x9;get &#xA;&#x9;&#x9;&#x9;{  &#xA;&#x9;&#x9;&#x9;&#x9;if (task_map == null)&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;task_map = (ITaskPort&lt;ITaskPortTypeAdvance>) this.Services.getPort (&quot;task_map&quot;);&#xA;&#x9;&#x9;&#x9;&#x9;return task_map;&#xA;&#x9;&#x9;&#x9;}&#xA;&#x9;&#x9;}&#xA;&#xA;&#xA;    }&#xA;}&#xA;" name="IWorkflowImpl.cs" srcType="user" uri="config.example.tc.impl.WorkflowImpl/bin/1.0.0.0/IWorkflowImpl.dll" versionId="1.0.0.0"/>
      </sources>
      <visualDescription h="46" w="150" x="302" y="175">
        <color b="20" g="20" r="20"/>
      </visualDescription>
      <port name="task_reduce">
        <visualDescription h="10" w="10" x="0" y="0"/>
        <slice pRef="task_reduce" sRef="task_reduce"/>
      </port>
      <port name="task_binding_split_first">
        <visualDescription h="10" w="10" x="0" y="0"/>
        <slice pRef="task_binding_split_first" sRef="task_binding_split_first"/>
      </port>
      <port name="task_binding_data">
        <visualDescription h="10" w="10" x="0" y="0"/>
        <slice pRef="task_binding_data" sRef="task_binding_data"/>
      </port>
      <port name="task_binding_split_next">
        <visualDescription h="10" w="10" x="0" y="0"/>
        <slice pRef="task_binding_split_next" sRef="task_binding_split_next"/>
      </port>
      <port name="platform_SAFe">
        <visualDescription h="10" w="10" x="0" y="0"/>
        <slice pRef="platform_SAFe" sRef="platform_SAFe"/>
      </port>
      <parameter iname="ISAFeHost" order="0" parid="maintainer" uname="safe_host" varid="M"/>
      <action id="main">
        <protocol/>
      </action>
    </interface>
    <unit facet="0" iRef="IWorkflowImpl" multiple="false" private="false" replica="0" uRef="workflow_unit" visibleInterface="true">
      <super cRef="base" uRef="workflow_unit"/>
      <visualDescription h="35" w="150" x="313" y="254"/>
    </unit>
  </componentInfo>
</component:component>